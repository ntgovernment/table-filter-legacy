{"version":3,"file":"table-filter.js","mappings":"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","sources":["webpack://TableFilter/webpack/universalModuleDefinition","webpack://TableFilter/webpack/bootstrap","webpack://TableFilter/webpack/runtime/define property getters","webpack://TableFilter/webpack/runtime/hasOwnProperty shorthand","webpack://TableFilter/./src/table-filter.js","webpack://TableFilter/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TableFilter\"] = factory();\n\telse\n\t\troot[\"TableFilter\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Table Filter Component\n * A simple table filtering component for legacy agency sites\n */\n\nclass TableFilter {\n  constructor(tableSelector, options = {}) {\n    this.table = document.querySelector(tableSelector);\n    this.options = {\n      searchInputClass: options.searchInputClass || \"table-filter-search\",\n      noResultsClass: options.noResultsClass || \"table-filter-no-results\",\n      ...options,\n    };\n\n    if (!this.table) {\n      console.warn(`Table not found: ${tableSelector}`);\n      return;\n    }\n\n    this.filterContainer = null;\n    this.searchInput = null;\n    this.columnFilters = [];\n    this.activeFilters = {\n      search: \"\",\n      columns: {},\n    };\n    this.sortState = {\n      columnIndex: null,\n      direction: null, // 'asc' or 'desc'\n    };\n\n    // Read pagination configuration from data attributes\n    const filterDiv = document.querySelector(\"[data-table-filter]\");\n    const itemsPerPageAttr = filterDiv?.getAttribute(\n      \"data-pagination-items-per-page\",\n    );\n\n    this.paginationState = {\n      currentPage: 1,\n      itemsPerPage: itemsPerPageAttr ? parseInt(itemsPerPageAttr, 10) : 10,\n      totalPages: 1,\n      enabled: !!itemsPerPageAttr,\n      availableSizes: [10, 25, 50, 100],\n    };\n\n    // Initialize cache structure\n    this.cache = {\n      tbody: null,\n      thead: null,\n      headerCells: [],\n      allRows: [],\n      rowData: [],\n      columnValues: {},\n      columnCount: 0,\n      rowCount: 0,\n      dateColumns: [], // Track which columns contain dates\n    };\n\n    this.init();\n  }\n\n  init() {\n    // Add data-table-filter attribute to the table for CSS targeting\n    this.table.setAttribute(\"data-table-filter\", \"\");\n\n    // Cache table data FIRST (before any manipulation)\n    this.cacheTableData();\n\n    this.createFilterMarkup();\n    this.initializeTableHeaders();\n    this.attachEventListeners();\n    this.applyQueryStringFilters();\n\n    // Apply pagination on initial load if no filters applied\n    this.filterTable();\n  }\n\n  /**\n   * Cache table data on page load for performance\n   * Stores DOM references, cell text, and precomputes column values\n   */\n  cacheTableData() {\n    // Cache header and body elements\n    this.cache.tbody = this.table.querySelector(\"tbody\");\n    this.cache.thead = this.table.querySelector(\"thead\");\n\n    if (!this.cache.tbody) {\n      console.warn(\"No tbody found in table\");\n      return;\n    }\n\n    // Cache header cells and detect date columns\n    if (this.cache.thead) {\n      this.cache.headerCells = Array.from(\n        this.cache.thead.querySelectorAll(\"th\"),\n      );\n      this.cache.columnCount = this.cache.headerCells.length;\n\n      // Detect date columns by checking if header contains \"date\"\n      this.cache.headerCells.forEach((header, index) => {\n        const headerText = header.textContent.toLowerCase();\n        if (headerText.includes(\"date\")) {\n          this.cache.dateColumns.push(index);\n        }\n      });\n    }\n\n    // Cache all rows\n    const rows = this.cache.tbody.querySelectorAll(\"tr\");\n    this.cache.allRows = Array.from(rows);\n    this.cache.rowCount = rows.length;\n\n    // Process and cache row data\n    rows.forEach((row, rowIndex) => {\n      // Set original index attribute\n      row.setAttribute(\"data-original-index\", rowIndex.toString());\n\n      const cells = row.querySelectorAll(\"td\");\n      const cellData = Array.from(cells).map((cell, colIndex) => {\n        let text = cell.textContent.trim();\n        let dateValue = null;\n\n        // Process date columns\n        if (this.cache.dateColumns.includes(colIndex)) {\n          const processedDate = this.processDateCell(cell);\n          if (processedDate) {\n            dateValue = processedDate.isoDate;\n            cell.setAttribute(\"data-date\", processedDate.isoDate);\n            // Use formatted date for display purposes in cache\n            text = processedDate.originalText;\n          }\n        }\n\n        return {\n          element: cell,\n          text: text,\n          lowerText: text.toLowerCase(),\n          numericValue: this.parseNumericValue(text),\n          dateValue: dateValue,\n        };\n      });\n\n      const fullText = cellData.map((c) => c.text).join(\" \");\n\n      this.cache.rowData.push({\n        element: row,\n        originalIndex: rowIndex,\n        cells: cellData,\n        fullText: fullText,\n        fullTextLower: fullText.toLowerCase(),\n      });\n    });\n\n    // Precompute unique column values for filters\n    this.precomputeColumnValues();\n  }\n\n  /**\n   * Process date cell: extract first line, normalize, and convert to ISO format\n   */\n  processDateCell(cell) {\n    // Get cell HTML to properly handle <br> tags\n    let cellHtml = cell.innerHTML;\n\n    // Replace &nbsp; with regular spaces\n    cellHtml = cellHtml.replace(/&nbsp;/g, \" \");\n\n    // Extract first line (before <br> tag)\n    let firstLine = cellHtml.split(/<br\\s*\\/?>/i)[0].trim();\n\n    // Remove HTML tags from the first line\n    const tempDiv = document.createElement(\"div\");\n    tempDiv.innerHTML = firstLine;\n    const textContent = tempDiv.textContent.trim();\n\n    if (!textContent) return null;\n\n    // Try to parse and convert to yyyy-mm-dd format\n    const isoDate = this.convertToISODate(textContent);\n\n    return isoDate\n      ? {\n          originalText: textContent,\n          isoDate: isoDate,\n        }\n      : null;\n  }\n\n  /**\n   * Convert various date formats to yyyy-mm-dd ISO format\n   * Supports: dd/mm/yyyy, dd-mm-yyyy, dd.mm.yyyy, etc.\n   */\n  convertToISODate(dateStr) {\n    // Clean up the date string\n    dateStr = dateStr.trim();\n\n    // Try common date patterns\n    // Pattern: dd/mm/yyyy or dd-mm-yyyy or dd.mm.yyyy\n    const dmyPattern = /^(\\d{1,2})[\\/ \\-\\.](\\d{1,2})[\\/ \\-\\.](\\d{4})$/;\n    const dmyMatch = dateStr.match(dmyPattern);\n\n    if (dmyMatch) {\n      const day = dmyMatch[1].padStart(2, \"0\");\n      const month = dmyMatch[2].padStart(2, \"0\");\n      const year = dmyMatch[3];\n      return `${year}-${month}-${day}`;\n    }\n\n    // Pattern: yyyy-mm-dd (already ISO)\n    const isoPattern = /^(\\d{4})[\\/ \\-\\.](\\d{1,2})[\\/ \\-\\.](\\d{1,2})$/;\n    const isoMatch = dateStr.match(isoPattern);\n\n    if (isoMatch) {\n      const year = isoMatch[1];\n      const month = isoMatch[2].padStart(2, \"0\");\n      const day = isoMatch[3].padStart(2, \"0\");\n      return `${year}-${month}-${day}`;\n    }\n\n    // Try parsing as Date object (fallback)\n    const parsed = new Date(dateStr);\n    if (!isNaN(parsed.getTime())) {\n      const year = parsed.getFullYear();\n      const month = String(parsed.getMonth() + 1).padStart(2, \"0\");\n      const day = String(parsed.getDate()).padStart(2, \"0\");\n      return `${year}-${month}-${day}`;\n    }\n\n    return null;\n  }\n\n  /**\n   * Parse numeric value from text for sorting\n   */\n  parseNumericValue(text) {\n    const cleaned = text.replace(/[^0-9.-]/g, \"\");\n    const num = parseFloat(cleaned);\n    return isNaN(num) ? null : num;\n  }\n\n  /**\n   * Precompute unique values for each column (for filter dropdowns)\n   */\n  precomputeColumnValues() {\n    for (let colIndex = 0; colIndex < this.cache.columnCount; colIndex++) {\n      const values = new Set();\n\n      this.cache.rowData.forEach((rowData) => {\n        if (rowData.cells[colIndex]) {\n          const text = rowData.cells[colIndex].text;\n          if (text) {\n            values.add(text);\n          }\n        }\n      });\n\n      // Sort values\n      const sortedValues = Array.from(values).sort((a, b) => {\n        // Try to sort numerically if both are numbers\n        const aNum = parseInt(a);\n        const bNum = parseInt(b);\n        if (!isNaN(aNum) && !isNaN(bNum)) {\n          return aNum - bNum;\n        }\n        return a.localeCompare(b);\n      });\n\n      this.cache.columnValues[colIndex] = sortedValues;\n    }\n  }\n\n  initializeTableHeaders() {\n    const thead = this.table.querySelector(\"thead\");\n    if (!thead) return;\n\n    const headers = thead.querySelectorAll(\"th\");\n    headers.forEach((header, index) => {\n      // Skip if header already has sort icon\n      if (header.querySelector(\".sort-icon\")) return;\n\n      // Wrap existing text content in a div\n      const textContent = header.innerHTML;\n      header.innerHTML = \"\";\n\n      const textDiv = document.createElement(\"div\");\n      textDiv.className = \"header-text\";\n      textDiv.innerHTML = textContent;\n      header.appendChild(textDiv);\n\n      // Add sort icon in its own div\n      const iconDiv = document.createElement(\"div\");\n      iconDiv.className = \"header-icons\";\n\n      const sortIcon = document.createElement(\"span\");\n      sortIcon.className = \"sort-icon\";\n      sortIcon.innerHTML = `\n        <i class=\"fas fa-chevron-up sort-arrow sort-arrow-up\"></i>\n        <i class=\"fas fa-chevron-down sort-arrow sort-arrow-down\"></i>\n      `;\n\n      iconDiv.appendChild(sortIcon);\n      header.appendChild(iconDiv);\n\n      // Add click handler\n      header.addEventListener(\"click\", () => this.sortTable(index));\n    });\n  }\n\n  createFilterMarkup() {\n    // Check if filter already exists\n    const existing = document.getElementById(\"ntgc-page-filters\");\n    if (existing) {\n      this.filterContainer = existing;\n      this.searchInput = document.getElementById(\"searchInput\");\n      return;\n    }\n\n    // Create the main filter container\n    const container = document.createElement(\"div\");\n    container.id = \"ntgc-page-filters\";\n    container.className = \"row mt-5 d-print-none\";\n\n    // Get data attributes\n    const filterDiv = document.querySelector(\"[data-table-filter]\");\n    const searchPlaceholder =\n      filterDiv?.getAttribute(\"data-search-placeholder\") || \"Search\";\n    const columnFiltersAttr =\n      filterDiv?.getAttribute(\"data-column-filters\") || \"\";\n\n    // Parse column filters\n    const columnFiltersArray = columnFiltersAttr\n      .split(\";\")\n      .map((f) => f.trim())\n      .filter((f) => f);\n\n    // Build the markup\n    container.innerHTML = `\n    <!-- Free text search filter -->\n    <div class=\"filter-option mb-1 col-lg-4\" id=\"text-question\">\n        <label for=\"searchInput\">Search</label>\n        <div class=\"input-group\">\n            <input type=\"text\" name=\"project_title\" id=\"searchInput\" class=\"form-control rounded-0\" placeholder=\"${searchPlaceholder}\" autocomplete=\"off\">\n            <span class=\"clear-input\" id=\"clearInput\" hidden=\"\"></span>\n        </div>\n    </div>\n\n    <!-- Filter dropdowns will be generated dynamically -->\n    <div id=\"filterControls\" class=\"d-flex flex-nowrap col-lg-8\" style=\"gap: 16px;\"></div>\n\n    <div class=\"mt-3 hidden\" id=\"applied-filters\">\n        <div class=\"filter-option\" id=\"active-filters\">\n            <strong>Applied filters:</strong>\n            <div class=\"d-inline-block pt-2\" id=\"filterPillsContainer\">\n                <span id=\"filterPills\"></span>\n                <button type=\"button\" id=\"copyFilterLink\" class=\"filter-link-button\" style=\"display: none;\" title=\"Copy filter link\">\n                    <i class=\"fas fa-link\"></i> Copy filter link\n                </button>\n                <a href=\"#\" id=\"clearAllFilters\">Clear all</a>\n            </div>\n        </div>\n    </div>\n    `;\n\n    // Insert before table\n    this.table.parentNode.insertBefore(container, this.table);\n\n    this.filterContainer = container;\n    this.searchInput = document.getElementById(\"searchInput\");\n\n    // Generate column filter dropdowns\n    this.generateColumnFilters(columnFiltersArray);\n  }\n\n  generateColumnFilters(columnNames) {\n    if (!columnNames.length) return;\n\n    const filterControls = document.getElementById(\"filterControls\");\n    const thead = this.table.querySelector(\"thead\");\n    if (!thead) return;\n\n    const headers = Array.from(thead.querySelectorAll(\"th\"));\n\n    columnNames.forEach((columnName, index) => {\n      // Find the column index by matching header text\n      const columnIndex = headers.findIndex(\n        (th) =>\n          th.textContent.trim().toLowerCase() === columnName.toLowerCase(),\n      );\n\n      if (columnIndex === -1) return;\n\n      // Extract unique values from this column\n      const values = this.getUniqueColumnValues(columnIndex);\n\n      // Create the select dropdown\n      const filterDiv = document.createElement(\"div\");\n      filterDiv.className = \"filter-option flex-fill\";\n      filterDiv.style.cssText = \"flex: 1 1 0; min-width: 0;\";\n\n      const selectId = `selectInput${index + 1}`;\n      const label =\n        columnName === \"Year of finding\" ? \"Year of issue\" : columnName;\n      const placeholder = `Select ${label.toLowerCase()}`;\n\n      filterDiv.innerHTML = `\n        <label for=\"${selectId}\" class=\"ntgc-form-input--label\">${label}</label>\n        <div>\n            <select name=\"select-input-${index + 1}\" id=\"${selectId}\" class=\"form-select rounded-0\">\n                <option value=\"all\" selected=\"\">${placeholder}</option>\n                ${values.map((val) => `<option value=\"${val.toLowerCase()}\">${val}</option>`).join(\"\")}\n            </select>\n        </div>\n      `;\n\n      filterControls.appendChild(filterDiv);\n\n      // Store column filter info\n      this.columnFilters.push({\n        columnIndex,\n        selectId,\n        columnName,\n      });\n    });\n  }\n\n  getUniqueColumnValues(columnIndex) {\n    // Return precomputed values from cache\n    if (this.cache.columnValues[columnIndex]) {\n      return this.cache.columnValues[columnIndex];\n    }\n\n    // Fallback (shouldn't happen after caching)\n    console.warn(\n      `Column ${columnIndex} values not cached, computing on demand`,\n    );\n    const values = new Set();\n\n    this.cache.rowData.forEach((rowData) => {\n      if (rowData.cells[columnIndex]) {\n        const text = rowData.cells[columnIndex].text;\n        if (text) {\n          values.add(text);\n        }\n      }\n    });\n\n    // Sort values\n    return Array.from(values).sort((a, b) => {\n      const aNum = parseInt(a);\n      const bNum = parseInt(b);\n      if (!isNaN(aNum) && !isNaN(bNum)) {\n        return aNum - bNum;\n      }\n      return a.localeCompare(b);\n    });\n  }\n\n  attachEventListeners() {\n    // Search input\n    if (this.searchInput) {\n      this.searchInput.addEventListener(\"input\", (e) => {\n        this.activeFilters.search = e.target.value;\n        this.paginationState.currentPage = 1; // Reset to first page\n        this.filterTable();\n        this.updateClearButton();\n        this.updateFilterPills();\n      });\n    }\n\n    // Clear input button\n    const clearInput = document.getElementById(\"clearInput\");\n    if (clearInput) {\n      clearInput.addEventListener(\"click\", () => {\n        this.searchInput.value = \"\";\n        this.activeFilters.search = \"\";\n        this.paginationState.currentPage = 1; // Reset to first page\n        this.filterTable();\n        this.updateClearButton();\n        this.updateFilterPills();\n      });\n    }\n\n    // Column filter dropdowns\n    this.columnFilters.forEach((filter) => {\n      const select = document.getElementById(filter.selectId);\n      if (select) {\n        select.addEventListener(\"change\", (e) => {\n          const value = e.target.value;\n          if (value !== \"all\") {\n            // Initialize array if it doesn't exist\n            if (!this.activeFilters.columns[filter.columnIndex]) {\n              this.activeFilters.columns[filter.columnIndex] = [];\n            }\n            // Add value to array if not already present\n            if (\n              !this.activeFilters.columns[filter.columnIndex].includes(value)\n            ) {\n              this.activeFilters.columns[filter.columnIndex].push(value);\n            }\n            // Reset dropdown to \"all\" after adding filter\n            e.target.value = \"all\";\n            // Update dropdown options to hide selected values\n            this.updateDropdownOptions(filter.columnIndex);\n          }\n          this.paginationState.currentPage = 1; // Reset to first page\n          this.filterTable();\n          this.updateFilterPills();\n        });\n      }\n    });\n\n    // Clear all filters\n    const clearAll = document.getElementById(\"clearAllFilters\");\n    if (clearAll) {\n      clearAll.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        this.clearAllFilters();\n      });\n    }\n\n    // Copy filter link button\n    const copyButton = document.getElementById(\"copyFilterLink\");\n    if (copyButton) {\n      copyButton.addEventListener(\"click\", () => {\n        this.copyFilterURL();\n      });\n    }\n  }\n\n  updateClearButton() {\n    const clearInput = document.getElementById(\"clearInput\");\n    if (clearInput) {\n      if (this.searchInput.value) {\n        clearInput.removeAttribute(\"hidden\");\n      } else {\n        clearInput.setAttribute(\"hidden\", \"\");\n      }\n    }\n  }\n\n  filterTable() {\n    const searchTerm = this.activeFilters.search.toLowerCase().trim();\n    let visibleRows = [];\n\n    // Use cached row data instead of querying DOM\n    this.cache.rowData.forEach((rowData) => {\n      let isVisible = true;\n\n      // Check search term using cached full text\n      if (searchTerm) {\n        if (!rowData.fullTextLower.includes(searchTerm)) {\n          isVisible = false;\n        }\n      }\n\n      // Check column filters using cached cell data\n      if (isVisible) {\n        for (const [columnIndex, filterValues] of Object.entries(\n          this.activeFilters.columns,\n        )) {\n          const cell = rowData.cells[columnIndex];\n          if (cell && filterValues.length > 0) {\n            const cellText = cell.lowerText;\n            // OR logic: row must match at least ONE of the filter values for this column\n            if (!filterValues.includes(cellText)) {\n              isVisible = false;\n              break;\n            }\n          }\n        }\n      }\n\n      if (isVisible) {\n        visibleRows.push(rowData);\n      } else {\n        rowData.element.style.display = \"none\";\n      }\n    });\n\n    const visibleCount = visibleRows.length;\n\n    // Apply pagination if enabled\n    if (this.paginationState.enabled && visibleCount > 0) {\n      // Calculate total pages\n      this.paginationState.totalPages = Math.ceil(\n        visibleCount / this.paginationState.itemsPerPage,\n      );\n\n      // Ensure current page is within bounds\n      if (this.paginationState.currentPage > this.paginationState.totalPages) {\n        this.paginationState.currentPage = 1;\n      }\n\n      // Calculate page boundaries\n      const startIndex =\n        (this.paginationState.currentPage - 1) *\n        this.paginationState.itemsPerPage;\n      const endIndex = startIndex + this.paginationState.itemsPerPage;\n\n      // Show/hide rows based on pagination\n      visibleRows.forEach((rowData, index) => {\n        if (index >= startIndex && index < endIndex) {\n          rowData.element.style.display = \"\";\n        } else {\n          rowData.element.style.display = \"none\";\n        }\n      });\n\n      // Render pagination controls\n      this.renderPaginationControls(visibleCount);\n    } else {\n      // No pagination - show all visible rows\n      visibleRows.forEach((rowData) => {\n        rowData.element.style.display = \"\";\n      });\n\n      // Remove pagination controls if they exist\n      this.removePaginationControls();\n    }\n\n    this.updateNoResultsMessage(visibleCount === 0);\n  }\n\n  updateFilterPills() {\n    const pillsContainer = document.getElementById(\"filterPills\");\n    const appliedFiltersSection = document.getElementById(\"applied-filters\");\n\n    if (!pillsContainer || !appliedFiltersSection) return;\n\n    const pills = [];\n\n    // Add search pill\n    if (this.activeFilters.search) {\n      pills.push(`\n        <button type=\"button\" class=\"filter-pill\" tabindex=\"0\" onclick=\"window.tableFilterInstance?.clearSearchFilter()\" aria-label=\"Remove filter: ${this.activeFilters.search}\">\n          <span class=\"filter-pill-label\">${this.activeFilters.search}</span>\n          <span class=\"filter-pill-close\" aria-hidden=\"true\">×</span>\n        </button>\n      `);\n    }\n\n    // Add column filter pills\n    for (const [columnIndex, filterValues] of Object.entries(\n      this.activeFilters.columns,\n    )) {\n      const filter = this.columnFilters.find(\n        (f) => f.columnIndex == columnIndex,\n      );\n      if (filter && Array.isArray(filterValues)) {\n        // Create a pill for each filter value (grouped by column)\n        filterValues.forEach((filterValue) => {\n          pills.push(`\n            <button type=\"button\" class=\"filter-pill\" tabindex=\"0\" onclick=\"window.tableFilterInstance?.clearColumnFilter(${columnIndex}, '${filterValue}')\" aria-label=\"Remove filter: ${filterValue}\">\n              <span class=\"filter-pill-label\">${filterValue}</span>\n              <span class=\"filter-pill-close\" aria-hidden=\"true\">×</span>\n            </button>\n          `);\n        });\n      }\n    }\n\n    if (pills.length > 0) {\n      pillsContainer.innerHTML = pills.join(\"\");\n      appliedFiltersSection.classList.remove(\"hidden\");\n\n      // Show copy button when there are active filters\n      const copyButton = document.getElementById(\"copyFilterLink\");\n      if (copyButton) {\n        copyButton.style.display = \"inline-flex\";\n      }\n    } else {\n      pillsContainer.innerHTML = \"\";\n      appliedFiltersSection.classList.add(\"hidden\");\n\n      // Hide copy button when there are no active filters\n      const copyButton = document.getElementById(\"copyFilterLink\");\n      if (copyButton) {\n        copyButton.style.display = \"none\";\n      }\n    }\n  }\n\n  clearSearchFilter() {\n    this.searchInput.value = \"\";\n    this.activeFilters.search = \"\";\n    this.filterTable();\n    this.updateClearButton();\n    this.updateFilterPills();\n  }\n\n  clearColumnFilter(columnIndex, filterValue = null) {\n    if (filterValue === null) {\n      // Clear all filters for this column\n      delete this.activeFilters.columns[columnIndex];\n    } else {\n      // Remove specific filter value from the array\n      const filters = this.activeFilters.columns[columnIndex];\n      if (filters) {\n        const index = filters.indexOf(filterValue);\n        if (index > -1) {\n          filters.splice(index, 1);\n        }\n        // If array is empty, delete the column entry\n        if (filters.length === 0) {\n          delete this.activeFilters.columns[columnIndex];\n        }\n      }\n    }\n\n    // Update dropdown options to show removed values\n    this.updateDropdownOptions(columnIndex);\n\n    // Reset pagination to first page\n    this.paginationState.currentPage = 1;\n\n    this.filterTable();\n    this.updateFilterPills();\n  }\n\n  updateDropdownOptions(columnIndex) {\n    const filter = this.columnFilters.find((f) => f.columnIndex == columnIndex);\n    if (!filter) return;\n\n    const select = document.getElementById(filter.selectId);\n    if (!select) return;\n\n    const selectedValues = this.activeFilters.columns[columnIndex] || [];\n\n    // Show/hide options based on whether they're selected\n    Array.from(select.options).forEach((option) => {\n      if (option.value !== \"all\") {\n        if (selectedValues.includes(option.value)) {\n          option.style.display = \"none\";\n        } else {\n          option.style.display = \"\";\n        }\n      }\n    });\n  }\n\n  sortTable(columnIndex) {\n    if (!this.cache.tbody) return;\n\n    const headers = this.table.querySelectorAll(\"thead th\");\n\n    // Determine sort direction\n    let direction = \"asc\";\n    if (this.sortState.columnIndex === columnIndex) {\n      if (this.sortState.direction === \"asc\") {\n        direction = \"desc\";\n      } else if (this.sortState.direction === \"desc\") {\n        // Reset sort\n        direction = null;\n      }\n    }\n\n    // Update sort state\n    this.sortState.columnIndex = direction ? columnIndex : null;\n    this.sortState.direction = direction;\n\n    // Reset pagination to first page when sorting\n    this.paginationState.currentPage = 1;\n\n    // Remove sort classes from all headers\n    headers.forEach((h) => {\n      h.classList.remove(\"sort-asc\", \"sort-desc\");\n    });\n\n    // Add sort class to current header\n    if (direction) {\n      headers[columnIndex].classList.add(`sort-${direction}`);\n    }\n\n    // Sort using cached row data\n    const sortedRows = [...this.cache.rowData];\n\n    if (direction) {\n      const isDateColumn = this.cache.dateColumns.includes(columnIndex);\n\n      sortedRows.sort((a, b) => {\n        const aCell = a.cells[columnIndex];\n        const bCell = b.cells[columnIndex];\n\n        if (!aCell || !bCell) return 0;\n\n        // Use date sorting for date columns\n        if (isDateColumn && aCell.dateValue && bCell.dateValue) {\n          const comparison = aCell.dateValue.localeCompare(bCell.dateValue);\n          return direction === \"asc\" ? comparison : -comparison;\n        }\n\n        // Use numeric comparison if available\n        if (aCell.numericValue !== null && bCell.numericValue !== null) {\n          return direction === \"asc\"\n            ? aCell.numericValue - bCell.numericValue\n            : bCell.numericValue - aCell.numericValue;\n        }\n\n        // Fallback to text comparison\n        const comparison = aCell.text.localeCompare(bCell.text);\n        return direction === \"asc\" ? comparison : -comparison;\n      });\n    } else {\n      // Restore original order using original index\n      sortedRows.sort((a, b) => a.originalIndex - b.originalIndex);\n    }\n\n    // Re-append rows in sorted order\n    sortedRows.forEach((rowData) =>\n      this.cache.tbody.appendChild(rowData.element),\n    );\n\n    // Re-apply filtering to update visibility\n    this.filterTable();\n  }\n\n  applyQueryStringFilters() {\n    const urlParams = new URLSearchParams(window.location.search);\n    let filtersApplied = false;\n\n    // Apply search keyword if present\n    const searchParam = urlParams.get(\"search\");\n    if (searchParam && this.searchInput) {\n      this.searchInput.value = searchParam;\n      this.activeFilters.search = searchParam;\n      this.updateClearButton();\n      filtersApplied = true;\n    }\n\n    // Apply page number if present (for pagination)\n    const pageParam = urlParams.get(\"page\");\n    if (pageParam && this.paginationState.enabled) {\n      const pageNum = parseInt(pageParam, 10);\n      if (pageNum > 0) {\n        this.paginationState.currentPage = pageNum;\n      }\n    }\n\n    // Apply filters from query string\n    urlParams.forEach((value, key) => {\n      // Skip search and page parameters as they're already handled\n      if (key === \"search\" || key === \"page\") return;\n\n      // Check if this key matches a column filter\n      const filter = this.columnFilters.find((f) => f.columnName === key);\n\n      if (filter) {\n        const select = document.getElementById(filter.selectId);\n        if (!select) return;\n\n        // Check if the value exists in the dropdown options\n        const option = Array.from(select.options).find(\n          (opt) => opt.value === value.toLowerCase(),\n        );\n\n        if (option) {\n          // Initialize array if it doesn't exist\n          if (!this.activeFilters.columns[filter.columnIndex]) {\n            this.activeFilters.columns[filter.columnIndex] = [];\n          }\n          // Add value to array if not already present\n          if (\n            !this.activeFilters.columns[filter.columnIndex].includes(\n              value.toLowerCase(),\n            )\n          ) {\n            this.activeFilters.columns[filter.columnIndex].push(\n              value.toLowerCase(),\n            );\n          }\n          // Update dropdown options to hide selected values\n          this.updateDropdownOptions(filter.columnIndex);\n          filtersApplied = true;\n        }\n      }\n    });\n\n    // Apply filters and update UI if any filters were added\n    if (filtersApplied) {\n      this.filterTable();\n      this.updateFilterPills();\n    }\n  }\n\n  generateFilterURL() {\n    const baseUrl = window.location.origin + window.location.pathname;\n    const params = new URLSearchParams();\n\n    // Add search keyword to query string\n    if (this.activeFilters.search) {\n      params.append(\"search\", this.activeFilters.search);\n    }\n\n    // Add column filters to query string\n    for (const [columnIndex, filterValues] of Object.entries(\n      this.activeFilters.columns,\n    )) {\n      const filter = this.columnFilters.find(\n        (f) => f.columnIndex == columnIndex,\n      );\n      if (filter && Array.isArray(filterValues)) {\n        filterValues.forEach((value) => {\n          // Use the original column name as the key\n          params.append(filter.columnName, value);\n        });\n      }\n    }\n\n    // Add current page if pagination is enabled and not on page 1\n    if (this.paginationState.enabled && this.paginationState.currentPage > 1) {\n      params.append(\"page\", this.paginationState.currentPage.toString());\n    }\n\n    const queryString = params.toString();\n    return queryString ? `${baseUrl}?${queryString}` : baseUrl;\n  }\n\n  copyFilterURL() {\n    const url = this.generateFilterURL();\n\n    // Try modern Clipboard API first\n    if (navigator.clipboard && navigator.clipboard.writeText) {\n      navigator.clipboard\n        .writeText(url)\n        .then(() => {\n          this.showCopyFeedback(true);\n        })\n        .catch((err) => {\n          console.warn(\"Clipboard API failed, using fallback:\", err);\n          this.fallbackCopyURL(url);\n        });\n    } else {\n      // Use fallback for older browsers\n      this.fallbackCopyURL(url);\n    }\n  }\n\n  fallbackCopyURL(url) {\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = url;\n    textArea.style.position = \"fixed\";\n    textArea.style.left = \"-9999px\";\n    textArea.style.top = \"-9999px\";\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n\n    try {\n      const successful = document.execCommand(\"copy\");\n      this.showCopyFeedback(successful);\n    } catch (err) {\n      console.error(\"Fallback copy failed:\", err);\n      this.showCopyFeedback(false);\n    }\n\n    document.body.removeChild(textArea);\n  }\n\n  showCopyFeedback(success) {\n    const copyButton = document.getElementById(\"copyFilterLink\");\n    if (!copyButton) return;\n\n    if (success) {\n      // Store original content\n      const originalHTML = copyButton.innerHTML;\n\n      // Show success state\n      copyButton.classList.add(\"copied\");\n      copyButton.innerHTML = '<i class=\"fas fa-check\"></i> Copied!';\n      copyButton.disabled = true;\n\n      // Reset after 2 seconds\n      setTimeout(() => {\n        copyButton.classList.remove(\"copied\");\n        copyButton.innerHTML = originalHTML;\n        copyButton.disabled = false;\n      }, 2000);\n    } else {\n      // Show error message\n      alert(\"Failed to copy link. Please try again.\");\n    }\n  }\n\n  clearAllFilters() {\n    // Clear search\n    this.searchInput.value = \"\";\n    this.activeFilters.search = \"\";\n\n    // Clear column filters\n    this.activeFilters.columns = {};\n    this.columnFilters.forEach((filter) => {\n      const select = document.getElementById(filter.selectId);\n      if (select) {\n        select.value = \"all\";\n        // Show all options again\n        Array.from(select.options).forEach((option) => {\n          option.style.display = \"\";\n        });\n      }\n    });\n\n    // Reset pagination to first page\n    this.paginationState.currentPage = 1;\n\n    this.filterTable();\n    this.updateClearButton();\n    this.updateFilterPills();\n  }\n\n  renderPaginationControls(visibleCount) {\n    // Remove existing pagination if present\n    this.removePaginationControls();\n\n    // Determine if mobile view\n    const isMobile = window.innerWidth <= 768;\n\n    // Generate pagination HTML\n    let paginationHTML;\n    if (isMobile) {\n      paginationHTML = this.generateMobilePaginationHTML(visibleCount);\n    } else {\n      paginationHTML = this.generatePaginationHTML(visibleCount);\n    }\n\n    // Create pagination container\n    const paginationContainer = document.createElement(\"div\");\n    paginationContainer.id = \"tablePaginationControls\";\n    paginationContainer.className = \"table-pagination-wrapper mt-3\";\n    paginationContainer.innerHTML = paginationHTML;\n\n    // Insert after table\n    this.table.parentNode.insertBefore(\n      paginationContainer,\n      this.table.nextSibling,\n    );\n\n    // Attach event listeners to pagination controls\n    this.attachPaginationEventListeners();\n  }\n\n  removePaginationControls() {\n    const existingPagination = document.getElementById(\n      \"tablePaginationControls\",\n    );\n    if (existingPagination) {\n      existingPagination.remove();\n    }\n  }\n\n  generatePaginationHTML(visibleCount) {\n    const { currentPage, itemsPerPage, totalPages, availableSizes } =\n      this.paginationState;\n\n    // Calculate result range\n    const startResult =\n      visibleCount > 0 ? (currentPage - 1) * itemsPerPage + 1 : 0;\n    const endResult = Math.min(currentPage * itemsPerPage, visibleCount);\n\n    // Build page size selector\n    const pageSizeOptions = availableSizes\n      .map(\n        (size) =>\n          `<option value=\"${size}\" ${size === itemsPerPage ? \"selected\" : \"\"}>${size}</option>`,\n      )\n      .join(\"\");\n\n    const pageSizeSelector = `\n      <div class=\"page-size-control\">\n        <label for=\"pageSizeSelect\" class=\"page-size-label\">Show:</label>\n        <select id=\"pageSizeSelect\" class=\"form-select form-select-sm page-size-select\">\n          ${pageSizeOptions}\n        </select>\n        <span class=\"results-info\">Showing ${startResult}-${endResult} of ${visibleCount} results</span>\n      </div>\n    `;\n\n    // Build page navigation buttons\n    const pageButtons = this.buildPageButtons(currentPage, totalPages);\n\n    return `\n      <div class=\"pagination-container\">\n        ${pageSizeSelector}\n        <nav aria-label=\"Table pagination\" class=\"pagination-nav\">\n          <ul class=\"pagination pagination-sm mb-0\">\n            ${pageButtons}\n          </ul>\n        </nav>\n      </div>\n    `;\n  }\n\n  generateMobilePaginationHTML(visibleCount) {\n    const { currentPage, itemsPerPage, totalPages, availableSizes } =\n      this.paginationState;\n\n    // Calculate result range\n    const startResult =\n      visibleCount > 0 ? (currentPage - 1) * itemsPerPage + 1 : 0;\n    const endResult = Math.min(currentPage * itemsPerPage, visibleCount);\n\n    // Build page size selector\n    const pageSizeOptions = availableSizes\n      .map(\n        (size) =>\n          `<option value=\"${size}\" ${size === itemsPerPage ? \"selected\" : \"\"}>${size}</option>`,\n      )\n      .join(\"\");\n\n    const pageSizeSelector = `\n      <div class=\"page-size-control\">\n        <label for=\"pageSizeSelect\" class=\"page-size-label\">Show:</label>\n        <select id=\"pageSizeSelect\" class=\"form-select form-select-sm page-size-select\">\n          ${pageSizeOptions}\n        </select>\n        <span class=\"results-info\">Showing ${startResult}-${endResult} of ${visibleCount}</span>\n      </div>\n    `;\n\n    // Condensed page navigation (only prev/current/next)\n    const mobileButtons = `\n      <li class=\"page-item ${currentPage === 1 ? \"disabled\" : \"\"}\">\n        <button class=\"page-link\" data-page=\"${currentPage - 1}\" ${currentPage === 1 ? \"disabled\" : \"\"} aria-label=\"Previous\">\n          <i class=\"fas fa-chevron-left\"></i>\n        </button>\n      </li>\n      <li class=\"page-item active\">\n        <span class=\"page-link\">${currentPage} of ${totalPages}</span>\n      </li>\n      <li class=\"page-item ${currentPage === totalPages ? \"disabled\" : \"\"}\">\n        <button class=\"page-link\" data-page=\"${currentPage + 1}\" ${currentPage === totalPages ? \"disabled\" : \"\"} aria-label=\"Next\">\n          <i class=\"fas fa-chevron-right\"></i>\n        </button>\n      </li>\n    `;\n\n    return `\n      <div class=\"pagination-container pagination-mobile\">\n        ${pageSizeSelector}\n        <nav aria-label=\"Table pagination\" class=\"pagination-nav\">\n          <ul class=\"pagination pagination-sm mb-0\">\n            ${mobileButtons}\n          </ul>\n        </nav>\n      </div>\n    `;\n  }\n\n  buildPageButtons(currentPage, totalPages) {\n    const buttons = [];\n\n    // Previous button (tertiary style)\n    buttons.push(`\n      <li class=\"page-item page-item-nav ${currentPage === 1 ? \"disabled\" : \"\"}\">\n        <button class=\"page-link page-link-nav\" data-page=\"${currentPage - 1}\" ${currentPage === 1 ? \"disabled\" : \"\"} aria-label=\"Previous\">\n          <span class=\"page-nav-text\">Previous</span>\n        </button>\n      </li>\n    `);\n\n    // Page number buttons with ellipsis logic\n    const pageNumbers = this.getPageNumbers(currentPage, totalPages);\n\n    pageNumbers.forEach((pageNum) => {\n      if (pageNum === \"...\") {\n        // Non-clickable ellipsis (plain text)\n        buttons.push(`\n          <li class=\"page-item page-item-ellipsis\">\n            <span class=\"page-ellipsis\">...</span>\n          </li>\n        `);\n      } else {\n        buttons.push(`\n          <li class=\"page-item ${pageNum === currentPage ? \"active\" : \"\"}\">\n            <button class=\"page-link page-link-number\" data-page=\"${pageNum}\" data-selected=\"${pageNum === currentPage ? \"True\" : \"False\"}\" ${pageNum === currentPage ? 'aria-current=\"page\"' : \"\"}>\n              ${pageNum}\n            </button>\n          </li>\n        `);\n      }\n    });\n\n    // Next button (tertiary style with chevron) (tertiary style with chevron)\n    buttons.push(`\n      <li class=\"page-item page-item-nav ${currentPage === totalPages ? \"disabled\" : \"\"}\">\n        <button class=\"page-link page-link-nav\" data-page=\"${currentPage + 1}\" ${currentPage === totalPages ? \"disabled\" : \"\"} aria-label=\"Next\">\n          <span class=\"page-nav-text\">Next</span>\n          <i class=\"fas fa-chevron-right\"></i>\n        </button>\n      </li>\n    `);\n\n    return buttons.join(\"\");\n  }\n\n  getPageNumbers(currentPage, totalPages) {\n    const pages = [];\n\n    if (totalPages <= 7) {\n      // Show all pages if 7 or fewer\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      // Always show first page\n      pages.push(1);\n\n      if (currentPage > 3) {\n        pages.push(\"...\");\n      }\n\n      // Show pages around current page\n      const startPage = Math.max(2, currentPage - 1);\n      const endPage = Math.min(totalPages - 1, currentPage + 1);\n\n      for (let i = startPage; i <= endPage; i++) {\n        pages.push(i);\n      }\n\n      if (currentPage < totalPages - 2) {\n        pages.push(\"...\");\n      }\n\n      // Always show last page\n      pages.push(totalPages);\n    }\n\n    return pages;\n  }\n\n  attachPaginationEventListeners() {\n    // Page size change handler\n    const pageSizeSelect = document.getElementById(\"pageSizeSelect\");\n    if (pageSizeSelect) {\n      pageSizeSelect.addEventListener(\"change\", (e) => {\n        this.paginationState.itemsPerPage = parseInt(e.target.value, 10);\n        this.paginationState.currentPage = 1; // Reset to first page\n        this.filterTable();\n      });\n    }\n\n    // Page navigation button handlers\n    const pageButtons = document.querySelectorAll(\n      \".pagination-container .page-link[data-page]\",\n    );\n    pageButtons.forEach((button) => {\n      button.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        const newPage = parseInt(button.getAttribute(\"data-page\"), 10);\n        if (newPage >= 1 && newPage <= this.paginationState.totalPages) {\n          this.paginationState.currentPage = newPage;\n          this.filterTable();\n\n          // Scroll to top of table\n          this.table.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n        }\n      });\n    });\n  }\n\n  updateNoResultsMessage(show) {\n    let message = document.querySelector(`.${this.options.noResultsClass}`);\n\n    if (show && !message) {\n      message = document.createElement(\"div\");\n      message.className = this.options.noResultsClass;\n      message.innerHTML = `\n        <div class=\"info-alert-bar\"></div>\n        <div class=\"info-alert-content\">\n          <div class=\"info-alert-header\">\n            <svg class=\"info-alert-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\">\n              <path d=\"M16 4.33335C19.0942 4.33335 22.0616 5.56252 24.2495 7.75044C26.4375 9.93837 27.6666 12.9058 27.6666 16C27.6666 19.0942 26.4375 22.0617 24.2495 24.2496C22.0616 26.4375 19.0942 27.6667 16 27.6667C12.9058 27.6667 9.9383 26.4375 7.75038 24.2496C5.56246 22.0617 4.33329 19.0942 4.33329 16C4.33329 12.9058 5.56246 9.93837 7.75038 7.75044C9.9383 5.56252 12.9058 4.33335 16 4.33335ZM16 29.3334C19.5362 29.3334 22.9276 27.9286 25.428 25.4281C27.9285 22.9276 29.3333 19.5362 29.3333 16C29.3333 12.4638 27.9285 9.07241 25.428 6.57193C22.9276 4.07145 19.5362 2.66669 16 2.66669C12.4637 2.66669 9.07235 4.07145 6.57187 6.57193C4.07138 9.07241 2.66663 12.4638 2.66663 16C2.66663 19.5362 4.07138 22.9276 6.57187 25.4281C9.07235 27.9286 12.4637 29.3334 16 29.3334ZM13.5 21C13.0416 21 12.6666 21.375 12.6666 21.8334C12.6666 22.2917 13.0416 22.6667 13.5 22.6667H18.5C18.9583 22.6667 19.3333 22.2917 19.3333 21.8334C19.3333 21.375 18.9583 21 18.5 21H16.8333V15.1667C16.8333 14.7084 16.4583 14.3334 16 14.3334H13.9166C13.4583 14.3334 13.0833 14.7084 13.0833 15.1667C13.0833 15.625 13.4583 16 13.9166 16H15.1666V21H13.5ZM16 12.25C16.3315 12.25 16.6494 12.1183 16.8838 11.8839C17.1183 11.6495 17.25 11.3315 17.25 11C17.25 10.6685 17.1183 10.3506 16.8838 10.1161C16.6494 9.88172 16.3315 9.75002 16 9.75002C15.6684 9.75002 15.3505 9.88172 15.1161 10.1161C14.8817 10.3506 14.75 10.6685 14.75 11C14.75 11.3315 14.8817 11.6495 15.1161 11.8839C15.3505 12.1183 15.6684 12.25 16 12.25Z\" fill=\"#107CC0\"/>\n            </svg>\n            <div class=\"info-alert-text\">\n              <div class=\"info-alert-title\">No matching results found</div>\n              <div class=\"info-alert-message\">Try adjusting your search terms or filters to find what you're looking for.</div>\n            </div>\n          </div>\n        </div>\n      `;\n      this.table.parentNode.insertBefore(message, this.table.nextSibling);\n    } else if (!show && message) {\n      message.remove();\n    }\n  }\n}\n\n// Auto-initialize on DOMContentLoaded if data-table-filter attribute is present\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const tables = document.querySelectorAll(\"[data-table-filter]\");\n  tables.forEach((table) => {\n    const tableId = table.getAttribute(\"data-table-id\");\n    const selector = tableId\n      ? `#${tableId}`\n      : table.id\n        ? `#${table.id}`\n        : table;\n    const instance = new TableFilter(selector);\n\n    // Store instance globally for pill close buttons\n    if (!window.tableFilterInstance) {\n      window.tableFilterInstance = instance;\n    }\n  });\n});\n\n// Export for use as module\nexport default TableFilter;\n\n// Also expose globally for legacy use\nif (typeof window !== \"undefined\") {\n  window.TableFilter = TableFilter;\n}\n","/**\n * Table Filter Component - Main Entry Point\n * Imports CSS and exports the TableFilter class\n */\n\nimport './table-filter.css';\nimport TableFilter from './table-filter.js';\n\nexport default TableFilter;\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","TableFilter","constructor","tableSelector","options","table","document","querySelector","searchInputClass","noResultsClass","console","warn","filterContainer","searchInput","columnFilters","activeFilters","search","columns","sortState","columnIndex","direction","filterDiv","itemsPerPageAttr","getAttribute","paginationState","currentPage","itemsPerPage","parseInt","totalPages","enabled","availableSizes","cache","tbody","thead","headerCells","allRows","rowData","columnValues","columnCount","rowCount","dateColumns","init","setAttribute","cacheTableData","createFilterMarkup","initializeTableHeaders","attachEventListeners","applyQueryStringFilters","filterTable","Array","from","querySelectorAll","length","forEach","header","index","textContent","toLowerCase","includes","push","rows","row","rowIndex","toString","cells","cellData","map","cell","colIndex","text","trim","dateValue","processedDate","processDateCell","isoDate","originalText","element","lowerText","numericValue","parseNumericValue","fullText","c","join","originalIndex","fullTextLower","precomputeColumnValues","cellHtml","innerHTML","replace","firstLine","split","tempDiv","createElement","convertToISODate","dateStr","dmyMatch","match","day","padStart","month","isoMatch","parsed","Date","isNaN","getTime","getFullYear","String","getMonth","getDate","cleaned","num","parseFloat","values","Set","add","sortedValues","sort","a","b","aNum","bNum","localeCompare","textDiv","className","appendChild","iconDiv","sortIcon","addEventListener","sortTable","existing","getElementById","container","id","searchPlaceholder","columnFiltersArray","f","filter","parentNode","insertBefore","generateColumnFilters","columnNames","filterControls","headers","columnName","findIndex","th","getUniqueColumnValues","style","cssText","selectId","label","placeholder","val","e","target","value","updateClearButton","updateFilterPills","clearInput","select","updateDropdownOptions","clearAll","preventDefault","clearAllFilters","copyButton","copyFilterURL","removeAttribute","searchTerm","visibleRows","isVisible","filterValues","entries","cellText","display","visibleCount","Math","ceil","startIndex","endIndex","renderPaginationControls","removePaginationControls","updateNoResultsMessage","pillsContainer","appliedFiltersSection","pills","find","isArray","filterValue","classList","remove","clearSearchFilter","clearColumnFilter","filters","indexOf","splice","selectedValues","option","h","sortedRows","isDateColumn","aCell","bCell","comparison","urlParams","URLSearchParams","window","location","filtersApplied","searchParam","pageParam","pageNum","opt","generateFilterURL","baseUrl","origin","pathname","params","append","queryString","url","navigator","clipboard","writeText","then","showCopyFeedback","catch","err","fallbackCopyURL","textArea","position","left","top","body","focus","successful","execCommand","error","removeChild","success","originalHTML","disabled","setTimeout","alert","paginationHTML","innerWidth","generateMobilePaginationHTML","generatePaginationHTML","paginationContainer","nextSibling","attachPaginationEventListeners","existingPagination","startResult","endResult","min","size","buildPageButtons","buttons","getPageNumbers","pages","i","startPage","max","endPage","pageSizeSelect","button","newPage","scrollIntoView","behavior","block","show","message","tableId","selector","instance","tableFilterInstance"],"ignoreList":[],"sourceRoot":""}