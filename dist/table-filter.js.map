{"version":3,"file":"table-filter.js","mappings":"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","sources":["webpack://TableFilter/webpack/universalModuleDefinition","webpack://TableFilter/webpack/bootstrap","webpack://TableFilter/webpack/runtime/define property getters","webpack://TableFilter/webpack/runtime/hasOwnProperty shorthand","webpack://TableFilter/./src/table-filter.js","webpack://TableFilter/./src/components/SortTable.js","webpack://TableFilter/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TableFilter\"] = factory();\n\telse\n\t\troot[\"TableFilter\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Table Filter Component\n * A simple table filtering component for legacy agency sites\n */\n\nimport {\n  initializeTableHeaders as initSortHeaders,\n  sortTable as performSort,\n} from \"./components/SortTable.js\";\n\nclass TableFilter {\n  constructor(tableSelector, options = {}) {\n    this.table = document.querySelector(tableSelector);\n    this.options = {\n      searchInputClass: options.searchInputClass || \"table-filter-search\",\n      noResultsClass: options.noResultsClass || \"table-filter-no-results\",\n      ...options,\n    };\n\n    if (!this.table) {\n      console.warn(`Table not found: ${tableSelector}`);\n      return;\n    }\n\n    this.filterContainer = null;\n    this.searchInput = null;\n    this.columnFilters = [];\n    this.activeFilters = {\n      search: \"\",\n      columns: {},\n    };\n    this.sortState = {\n      columnIndex: null,\n      direction: null, // 'asc' or 'desc'\n    };\n\n    // Read pagination configuration from data attributes\n    const filterDiv = document.querySelector(\"[data-table-filter]\");\n    const itemsPerPageAttr = filterDiv?.getAttribute(\n      \"data-pagination-items-per-page\",\n    );\n\n    this.paginationState = {\n      currentPage: 1,\n      itemsPerPage: itemsPerPageAttr ? parseInt(itemsPerPageAttr, 10) : 10,\n      totalPages: 1,\n      enabled: !!itemsPerPageAttr,\n      availableSizes: [10, 25, 50, 100],\n    };\n\n    // Initialize cache structure\n    this.cache = {\n      tbody: null,\n      thead: null,\n      headerCells: [],\n      allRows: [],\n      rowData: [],\n      columnValues: {},\n      columnCount: 0,\n      rowCount: 0,\n      dateColumns: [], // Track which columns contain dates\n    };\n\n    this.init();\n  }\n\n  init() {\n    // Add data-table-filter attribute to the table for CSS targeting\n    this.table.setAttribute(\"data-table-filter\", \"\");\n\n    // Cache table data FIRST (before any manipulation)\n    this.cacheTableData();\n\n    this.createFilterMarkup();\n    this.initializeTableHeaders();\n    this.attachEventListeners();\n    this.applyQueryStringFilters();\n\n    // Apply pagination on initial load if no filters applied\n    this.filterTable();\n  }\n\n  /**\n   * Cache table data on page load for performance\n   * Stores DOM references, cell text, and precomputes column values\n   */\n  cacheTableData() {\n    // Cache header and body elements\n    this.cache.tbody = this.table.querySelector(\"tbody\");\n    this.cache.thead = this.table.querySelector(\"thead\");\n\n    if (!this.cache.tbody) {\n      console.warn(\"No tbody found in table\");\n      return;\n    }\n\n    // Cache header cells and detect date columns\n    if (this.cache.thead) {\n      this.cache.headerCells = Array.from(\n        this.cache.thead.querySelectorAll(\"th\"),\n      );\n      this.cache.columnCount = this.cache.headerCells.length;\n\n      // Detect date columns by checking if header contains \"date\"\n      this.cache.headerCells.forEach((header, index) => {\n        const headerText = header.textContent.toLowerCase();\n        if (headerText.includes(\"date\")) {\n          this.cache.dateColumns.push(index);\n        }\n      });\n    }\n\n    // Cache all rows\n    const rows = this.cache.tbody.querySelectorAll(\"tr\");\n    this.cache.allRows = Array.from(rows);\n    this.cache.rowCount = rows.length;\n\n    // Process and cache row data\n    rows.forEach((row, rowIndex) => {\n      // Set original index attribute\n      row.setAttribute(\"data-original-index\", rowIndex.toString());\n\n      const cells = row.querySelectorAll(\"td\");\n      const cellData = Array.from(cells).map((cell, colIndex) => {\n        let text = cell.textContent.trim();\n        let dateValue = null;\n\n        // Process date columns\n        if (this.cache.dateColumns.includes(colIndex)) {\n          const processedDate = this.processDateCell(cell);\n          if (processedDate) {\n            dateValue = processedDate.isoDate;\n            cell.setAttribute(\"data-date\", processedDate.isoDate);\n            // Use formatted date for display purposes in cache\n            text = processedDate.originalText;\n          }\n        }\n\n        return {\n          element: cell,\n          text: text,\n          lowerText: text.toLowerCase(),\n          numericValue: this.parseNumericValue(text),\n          dateValue: dateValue,\n        };\n      });\n\n      const fullText = cellData.map((c) => c.text).join(\" \");\n\n      this.cache.rowData.push({\n        element: row,\n        originalIndex: rowIndex,\n        cells: cellData,\n        fullText: fullText,\n        fullTextLower: fullText.toLowerCase(),\n      });\n    });\n\n    // Precompute unique column values for filters\n    this.precomputeColumnValues();\n  }\n\n  /**\n   * Process date cell: extract first line, normalize, and convert to ISO format\n   */\n  processDateCell(cell) {\n    // Get cell HTML to properly handle <br> tags\n    let cellHtml = cell.innerHTML;\n\n    // Replace &nbsp; with regular spaces\n    cellHtml = cellHtml.replace(/&nbsp;/g, \" \");\n\n    // Extract first line (before <br> tag)\n    let firstLine = cellHtml.split(/<br\\s*\\/?>/i)[0].trim();\n\n    // Remove HTML tags from the first line\n    const tempDiv = document.createElement(\"div\");\n    tempDiv.innerHTML = firstLine;\n    const textContent = tempDiv.textContent.trim();\n\n    if (!textContent) return null;\n\n    // Try to parse and convert to yyyy-mm-dd format\n    const isoDate = this.convertToISODate(textContent);\n\n    return isoDate\n      ? {\n          originalText: textContent,\n          isoDate: isoDate,\n        }\n      : null;\n  }\n\n  /**\n   * Convert various date formats to yyyy-mm-dd ISO format\n   * Supports: dd/mm/yyyy, dd-mm-yyyy, dd.mm.yyyy, etc.\n   */\n  convertToISODate(dateStr) {\n    // Clean up the date string\n    dateStr = dateStr.trim();\n\n    // Try common date patterns\n    // Pattern: dd/mm/yyyy or dd-mm-yyyy or dd.mm.yyyy\n    const dmyPattern = /^(\\d{1,2})[\\/ \\-\\.](\\d{1,2})[\\/ \\-\\.](\\d{4})$/;\n    const dmyMatch = dateStr.match(dmyPattern);\n\n    if (dmyMatch) {\n      const day = dmyMatch[1].padStart(2, \"0\");\n      const month = dmyMatch[2].padStart(2, \"0\");\n      const year = dmyMatch[3];\n      return `${year}-${month}-${day}`;\n    }\n\n    // Pattern: yyyy-mm-dd (already ISO)\n    const isoPattern = /^(\\d{4})[\\/ \\-\\.](\\d{1,2})[\\/ \\-\\.](\\d{1,2})$/;\n    const isoMatch = dateStr.match(isoPattern);\n\n    if (isoMatch) {\n      const year = isoMatch[1];\n      const month = isoMatch[2].padStart(2, \"0\");\n      const day = isoMatch[3].padStart(2, \"0\");\n      return `${year}-${month}-${day}`;\n    }\n\n    // Try parsing as Date object (fallback)\n    const parsed = new Date(dateStr);\n    if (!isNaN(parsed.getTime())) {\n      const year = parsed.getFullYear();\n      const month = String(parsed.getMonth() + 1).padStart(2, \"0\");\n      const day = String(parsed.getDate()).padStart(2, \"0\");\n      return `${year}-${month}-${day}`;\n    }\n\n    return null;\n  }\n\n  /**\n   * Parse numeric value from text for sorting\n   */\n  parseNumericValue(text) {\n    const cleaned = text.replace(/[^0-9.-]/g, \"\");\n    const num = parseFloat(cleaned);\n    return isNaN(num) ? null : num;\n  }\n\n  /**\n   * Parse search input into structured terms:\n   * - Extracts quoted phrases for exact matching\n   * - Splits remaining text by case-insensitive AND keyword\n   * - Splits each AND group by spaces for OR matching within group\n   * - Filters empty strings and handles edge cases\n   * \n   * Examples:\n   *   \"fire water\" → { andGroups: [[\"fire\", \"water\"]], exactPhrases: [] }\n   *   \"fire AND water\" → { andGroups: [[\"fire\"], [\"water\"]], exactPhrases: [] }\n   *   '\"John Smith\"' → { andGroups: [], exactPhrases: [\"john smith\"] }\n   *   '\"urgent\" AND fire water' → { andGroups: [[\"urgent\"], [\"fire\", \"water\"]], exactPhrases: [\"urgent\"] }\n   */\n  parseSearchTerms(input) {\n    const trimmed = input.trim();\n    if (!trimmed) return { andGroups: [], exactPhrases: [] };\n\n    // Extract quoted phrases and replace with placeholders\n    const phrases = [];\n    const placeholders = [];\n    let processed = trimmed.replace(/\"([^\"]+)\"/g, (match, phrase) => {\n      const placeholder = `__PHRASE_${phrases.length}__`;\n      phrases.push(phrase.toLowerCase());\n      placeholders.push(placeholder);\n      return placeholder;\n    });\n\n    // Split by AND (case-insensitive)\n    const andParts = processed.split(/\\s+and\\s+/i);\n\n    // Split each AND part by spaces for OR terms\n    const andGroups = andParts\n      .map((part) => {\n        return part\n          .split(/\\s+/)\n          .filter((term) => term.length > 0)\n          .map((term) => {\n            // Restore phrase or lowercase term\n            const phraseIndex = placeholders.indexOf(term);\n            return phraseIndex >= 0 ? phrases[phraseIndex] : term.toLowerCase();\n          });\n      })\n      .filter((group) => group.length > 0);\n\n    return { andGroups, exactPhrases: phrases };\n  }\n\n  /**\n   * Precompute unique values for each column (for filter dropdowns)\n   */\n  precomputeColumnValues() {\n    for (let colIndex = 0; colIndex < this.cache.columnCount; colIndex++) {\n      const values = new Set();\n\n      this.cache.rowData.forEach((rowData) => {\n        if (rowData.cells[colIndex]) {\n          const text = rowData.cells[colIndex].text;\n          if (text) {\n            values.add(text);\n          }\n        }\n      });\n\n      // Sort values\n      const sortedValues = Array.from(values).sort((a, b) => {\n        // Try to sort numerically if both are numbers\n        const aNum = parseInt(a);\n        const bNum = parseInt(b);\n        if (!isNaN(aNum) && !isNaN(bNum)) {\n          return aNum - bNum;\n        }\n        return a.localeCompare(b);\n      });\n\n      this.cache.columnValues[colIndex] = sortedValues;\n    }\n  }\n\n  initializeTableHeaders() {\n    // Use imported function from SortTable component\n    initSortHeaders(this.table, (columnIndex) => this.sortTable(columnIndex));\n  }\n\n  createFilterMarkup() {\n    // Check if filter already exists\n    const existing = document.getElementById(\"ntgc-page-filters\");\n    if (existing) {\n      this.filterContainer = existing;\n      this.searchInput = document.getElementById(\"searchInput\");\n      return;\n    }\n\n    // Create the main filter container\n    const container = document.createElement(\"div\");\n    container.id = \"ntgc-page-filters\";\n    container.className = \"row mt-5 d-print-none\";\n\n    // Get data attributes\n    const filterDiv = document.querySelector(\"[data-table-filter]\");\n    const searchPlaceholder =\n      filterDiv?.getAttribute(\"data-search-placeholder\") || \"Search\";\n    const columnFiltersAttr =\n      filterDiv?.getAttribute(\"data-column-filters\") || \"\";\n\n    // Parse column filters\n    const columnFiltersArray = columnFiltersAttr\n      .split(\";\")\n      .map((f) => f.trim())\n      .filter((f) => f);\n\n    // Build the markup\n    container.innerHTML = `\n    <!-- Free text search filter -->\n    <div class=\"filter-option mb-1 col-lg-4\" id=\"text-question\">\n        <label for=\"searchInput\">Search</label>\n        <div class=\"input-group\" style=\"position: relative;\">\n            <input type=\"text\" name=\"project_title\" id=\"searchInput\" class=\"form-control rounded-0\" placeholder=\"${searchPlaceholder}\" autocomplete=\"off\">\n            <span class=\"clear-input\" id=\"clearInput\" hidden=\"\"></span>\n            <span class=\"search-help\" title=\"Search syntax: &quot;exact phrase&quot;, fire AND water, fire water (OR)\" style=\"cursor: help;\">ⓘ</span>\n        </div>\n    </div>\n\n    <!-- Filter dropdowns will be generated dynamically -->\n    <div id=\"filterControls\" class=\"d-flex flex-nowrap col-lg-8\" style=\"gap: 16px;\"></div>\n\n    <div class=\"mt-3 hidden\" id=\"applied-filters\">\n        <div class=\"filter-option\" id=\"active-filters\">\n            <strong>Applied filters:</strong>\n            <div class=\"d-inline-block pt-2\" id=\"filterPillsContainer\">\n                <span id=\"filterPills\"></span>\n                <button type=\"button\" id=\"copyFilterLink\" class=\"filter-link-button\" style=\"display: none;\" title=\"Copy filter link\">\n                    <i class=\"fas fa-link\"></i> Copy filter link\n                </button>\n                <a href=\"#\" id=\"clearAllFilters\">Clear all</a>\n            </div>\n        </div>\n    </div>\n    `;\n\n    // Insert before table\n    this.table.parentNode.insertBefore(container, this.table);\n\n    this.filterContainer = container;\n    this.searchInput = document.getElementById(\"searchInput\");\n\n    // Generate column filter dropdowns\n    this.generateColumnFilters(columnFiltersArray);\n  }\n\n  generateColumnFilters(columnNames) {\n    if (!columnNames.length) return;\n\n    const filterControls = document.getElementById(\"filterControls\");\n    const thead = this.table.querySelector(\"thead\");\n    if (!thead) return;\n\n    const headers = Array.from(thead.querySelectorAll(\"th\"));\n\n    columnNames.forEach((columnName, index) => {\n      // Find the column index by matching header text\n      const columnIndex = headers.findIndex(\n        (th) =>\n          th.textContent.trim().toLowerCase() === columnName.toLowerCase(),\n      );\n\n      if (columnIndex === -1) return;\n\n      // Extract unique values from this column\n      const values = this.getUniqueColumnValues(columnIndex);\n\n      // Create the select dropdown\n      const filterDiv = document.createElement(\"div\");\n      filterDiv.className = \"filter-option flex-fill\";\n      filterDiv.style.cssText = \"flex: 1 1 0; min-width: 0;\";\n\n      const selectId = `selectInput${index + 1}`;\n      const label =\n        columnName === \"Year of finding\" ? \"Year of issue\" : columnName;\n      const placeholder = `Select ${label.toLowerCase()}`;\n\n      filterDiv.innerHTML = `\n        <label for=\"${selectId}\" class=\"ntgc-form-input--label\">${label}</label>\n        <div>\n            <select name=\"select-input-${index + 1}\" id=\"${selectId}\" class=\"form-select rounded-0\">\n                <option value=\"all\" selected=\"\">${placeholder}</option>\n                ${values.map((val) => `<option value=\"${val.toLowerCase()}\">${val}</option>`).join(\"\")}\n            </select>\n        </div>\n      `;\n\n      filterControls.appendChild(filterDiv);\n\n      // Store column filter info\n      this.columnFilters.push({\n        columnIndex,\n        selectId,\n        columnName,\n      });\n    });\n  }\n\n  getUniqueColumnValues(columnIndex) {\n    // Return precomputed values from cache\n    if (this.cache.columnValues[columnIndex]) {\n      return this.cache.columnValues[columnIndex];\n    }\n\n    // Fallback (shouldn't happen after caching)\n    console.warn(\n      `Column ${columnIndex} values not cached, computing on demand`,\n    );\n    const values = new Set();\n\n    this.cache.rowData.forEach((rowData) => {\n      if (rowData.cells[columnIndex]) {\n        const text = rowData.cells[columnIndex].text;\n        if (text) {\n          values.add(text);\n        }\n      }\n    });\n\n    // Sort values\n    return Array.from(values).sort((a, b) => {\n      const aNum = parseInt(a);\n      const bNum = parseInt(b);\n      if (!isNaN(aNum) && !isNaN(bNum)) {\n        return aNum - bNum;\n      }\n      return a.localeCompare(b);\n    });\n  }\n\n  attachEventListeners() {\n    // Search input\n    if (this.searchInput) {\n      this.searchInput.addEventListener(\"input\", (e) => {\n        this.activeFilters.search = e.target.value;\n        this.paginationState.currentPage = 1; // Reset to first page\n        this.filterTable();\n        this.updateClearButton();\n        this.updateFilterPills();\n      });\n    }\n\n    // Clear input button\n    const clearInput = document.getElementById(\"clearInput\");\n    if (clearInput) {\n      clearInput.addEventListener(\"click\", () => {\n        this.searchInput.value = \"\";\n        this.activeFilters.search = \"\";\n        this.paginationState.currentPage = 1; // Reset to first page\n        this.filterTable();\n        this.updateClearButton();\n        this.updateFilterPills();\n      });\n    }\n\n    // Column filter dropdowns\n    this.columnFilters.forEach((filter) => {\n      const select = document.getElementById(filter.selectId);\n      if (select) {\n        select.addEventListener(\"change\", (e) => {\n          const value = e.target.value;\n          if (value !== \"all\") {\n            // Initialize array if it doesn't exist\n            if (!this.activeFilters.columns[filter.columnIndex]) {\n              this.activeFilters.columns[filter.columnIndex] = [];\n            }\n            // Add value to array if not already present\n            if (\n              !this.activeFilters.columns[filter.columnIndex].includes(value)\n            ) {\n              this.activeFilters.columns[filter.columnIndex].push(value);\n            }\n            // Reset dropdown to \"all\" after adding filter\n            e.target.value = \"all\";\n            // Update dropdown options to hide selected values\n            this.updateDropdownOptions(filter.columnIndex);\n          }\n          this.paginationState.currentPage = 1; // Reset to first page\n          this.filterTable();\n          this.updateFilterPills();\n        });\n      }\n    });\n\n    // Clear all filters\n    const clearAll = document.getElementById(\"clearAllFilters\");\n    if (clearAll) {\n      clearAll.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        this.clearAllFilters();\n      });\n    }\n\n    // Copy filter link button\n    const copyButton = document.getElementById(\"copyFilterLink\");\n    if (copyButton) {\n      copyButton.addEventListener(\"click\", () => {\n        this.copyFilterURL();\n      });\n    }\n  }\n\n  updateClearButton() {\n    const clearInput = document.getElementById(\"clearInput\");\n    if (clearInput) {\n      if (this.searchInput.value) {\n        clearInput.removeAttribute(\"hidden\");\n      } else {\n        clearInput.setAttribute(\"hidden\", \"\");\n      }\n    }\n  }\n\n  filterTable() {\n    const { andGroups, exactPhrases } = this.parseSearchTerms(\n      this.activeFilters.search,\n    );\n    let visibleRows = [];\n\n    // Use cached row data instead of querying DOM\n    this.cache.rowData.forEach((rowData) => {\n      let isVisible = true;\n\n      // Check search terms: all exact phrases must match, all AND groups must have at least one OR term match\n      if (andGroups.length > 0 || exactPhrases.length > 0) {\n        // All exact phrases must match\n        const allPhrasesMatch = exactPhrases.every((phrase) =>\n          rowData.fullTextLower.includes(phrase),\n        );\n\n        // All AND groups must have at least one term match (OR within group)\n        const allGroupsMatch = andGroups.every((orTerms) =>\n          orTerms.some((term) => rowData.fullTextLower.includes(term)),\n        );\n\n        if (!allPhrasesMatch || !allGroupsMatch) {\n          isVisible = false;\n        }\n      }\n\n      // Check column filters using cached cell data\n      if (isVisible) {\n        for (const [columnIndex, filterValues] of Object.entries(\n          this.activeFilters.columns,\n        )) {\n          const cell = rowData.cells[columnIndex];\n          if (cell && filterValues.length > 0) {\n            const cellText = cell.lowerText;\n            // OR logic: row must match at least ONE of the filter values for this column\n            if (!filterValues.includes(cellText)) {\n              isVisible = false;\n              break;\n            }\n          }\n        }\n      }\n\n      if (isVisible) {\n        visibleRows.push(rowData);\n      } else {\n        rowData.element.style.display = \"none\";\n      }\n    });\n\n    const visibleCount = visibleRows.length;\n\n    // Apply pagination if enabled\n    if (this.paginationState.enabled && visibleCount > 0) {\n      // Calculate total pages\n      this.paginationState.totalPages = Math.ceil(\n        visibleCount / this.paginationState.itemsPerPage,\n      );\n\n      // Ensure current page is within bounds\n      if (this.paginationState.currentPage > this.paginationState.totalPages) {\n        this.paginationState.currentPage = 1;\n      }\n\n      // Calculate page boundaries\n      const startIndex =\n        (this.paginationState.currentPage - 1) *\n        this.paginationState.itemsPerPage;\n      const endIndex = startIndex + this.paginationState.itemsPerPage;\n\n      // Show/hide rows based on pagination\n      visibleRows.forEach((rowData, index) => {\n        if (index >= startIndex && index < endIndex) {\n          rowData.element.style.display = \"\";\n        } else {\n          rowData.element.style.display = \"none\";\n        }\n      });\n\n      // Render pagination controls\n      this.renderPaginationControls(visibleCount);\n    } else {\n      // No pagination - show all visible rows\n      visibleRows.forEach((rowData) => {\n        rowData.element.style.display = \"\";\n      });\n\n      // Remove pagination controls if they exist\n      this.removePaginationControls();\n    }\n\n    this.updateNoResultsMessage(visibleCount === 0);\n  }\n\n  updateFilterPills() {\n    const pillsContainer = document.getElementById(\"filterPills\");\n    const appliedFiltersSection = document.getElementById(\"applied-filters\");\n\n    if (!pillsContainer || !appliedFiltersSection) return;\n\n    const pills = [];\n\n    // Add search pill\n    if (this.activeFilters.search) {\n      pills.push(`\n        <button type=\"button\" class=\"filter-pill\" tabindex=\"0\" onclick=\"window.tableFilterInstance?.clearSearchFilter()\" aria-label=\"Remove filter: ${this.activeFilters.search}\">\n          <span class=\"filter-pill-label\">${this.activeFilters.search}</span>\n          <span class=\"filter-pill-close\" aria-hidden=\"true\">×</span>\n        </button>\n      `);\n    }\n\n    // Add column filter pills\n    for (const [columnIndex, filterValues] of Object.entries(\n      this.activeFilters.columns,\n    )) {\n      const filter = this.columnFilters.find(\n        (f) => f.columnIndex == columnIndex,\n      );\n      if (filter && Array.isArray(filterValues)) {\n        // Create a pill for each filter value (grouped by column)\n        filterValues.forEach((filterValue) => {\n          pills.push(`\n            <button type=\"button\" class=\"filter-pill\" tabindex=\"0\" onclick=\"window.tableFilterInstance?.clearColumnFilter(${columnIndex}, '${filterValue}')\" aria-label=\"Remove filter: ${filterValue}\">\n              <span class=\"filter-pill-label\">${filterValue}</span>\n              <span class=\"filter-pill-close\" aria-hidden=\"true\">×</span>\n            </button>\n          `);\n        });\n      }\n    }\n\n    if (pills.length > 0) {\n      pillsContainer.innerHTML = pills.join(\"\");\n      appliedFiltersSection.classList.remove(\"hidden\");\n\n      // Show copy button when there are active filters\n      const copyButton = document.getElementById(\"copyFilterLink\");\n      if (copyButton) {\n        copyButton.style.display = \"inline-flex\";\n      }\n    } else {\n      pillsContainer.innerHTML = \"\";\n      appliedFiltersSection.classList.add(\"hidden\");\n\n      // Hide copy button when there are no active filters\n      const copyButton = document.getElementById(\"copyFilterLink\");\n      if (copyButton) {\n        copyButton.style.display = \"none\";\n      }\n    }\n  }\n\n  clearSearchFilter() {\n    this.searchInput.value = \"\";\n    this.activeFilters.search = \"\";\n    this.filterTable();\n    this.updateClearButton();\n    this.updateFilterPills();\n  }\n\n  clearColumnFilter(columnIndex, filterValue = null) {\n    if (filterValue === null) {\n      // Clear all filters for this column\n      delete this.activeFilters.columns[columnIndex];\n    } else {\n      // Remove specific filter value from the array\n      const filters = this.activeFilters.columns[columnIndex];\n      if (filters) {\n        const index = filters.indexOf(filterValue);\n        if (index > -1) {\n          filters.splice(index, 1);\n        }\n        // If array is empty, delete the column entry\n        if (filters.length === 0) {\n          delete this.activeFilters.columns[columnIndex];\n        }\n      }\n    }\n\n    // Update dropdown options to show removed values\n    this.updateDropdownOptions(columnIndex);\n\n    // Reset pagination to first page\n    this.paginationState.currentPage = 1;\n\n    this.filterTable();\n    this.updateFilterPills();\n  }\n\n  updateDropdownOptions(columnIndex) {\n    const filter = this.columnFilters.find((f) => f.columnIndex == columnIndex);\n    if (!filter) return;\n\n    const select = document.getElementById(filter.selectId);\n    if (!select) return;\n\n    const selectedValues = this.activeFilters.columns[columnIndex] || [];\n\n    // Show/hide options based on whether they're selected\n    Array.from(select.options).forEach((option) => {\n      if (option.value !== \"all\") {\n        if (selectedValues.includes(option.value)) {\n          option.style.display = \"none\";\n        } else {\n          option.style.display = \"\";\n        }\n      }\n    });\n  }\n\n  sortTable(columnIndex) {\n    // Use imported function from SortTable component\n    performSort(this, columnIndex);\n  }\n\n  applyQueryStringFilters() {\n    const urlParams = new URLSearchParams(window.location.search);\n    let filtersApplied = false;\n\n    // Apply search keyword if present\n    const searchParam = urlParams.get(\"search\");\n    if (searchParam && this.searchInput) {\n      this.searchInput.value = searchParam;\n      this.activeFilters.search = searchParam;\n      this.updateClearButton();\n      filtersApplied = true;\n    }\n\n    // Apply page number if present (for pagination)\n    const pageParam = urlParams.get(\"page\");\n    if (pageParam && this.paginationState.enabled) {\n      const pageNum = parseInt(pageParam, 10);\n      if (pageNum > 0) {\n        this.paginationState.currentPage = pageNum;\n      }\n    }\n\n    // Apply filters from query string\n    urlParams.forEach((value, key) => {\n      // Skip search and page parameters as they're already handled\n      if (key === \"search\" || key === \"page\") return;\n\n      // Check if this key matches a column filter\n      const filter = this.columnFilters.find((f) => f.columnName === key);\n\n      if (filter) {\n        const select = document.getElementById(filter.selectId);\n        if (!select) return;\n\n        // Check if the value exists in the dropdown options\n        const option = Array.from(select.options).find(\n          (opt) => opt.value === value.toLowerCase(),\n        );\n\n        if (option) {\n          // Initialize array if it doesn't exist\n          if (!this.activeFilters.columns[filter.columnIndex]) {\n            this.activeFilters.columns[filter.columnIndex] = [];\n          }\n          // Add value to array if not already present\n          if (\n            !this.activeFilters.columns[filter.columnIndex].includes(\n              value.toLowerCase(),\n            )\n          ) {\n            this.activeFilters.columns[filter.columnIndex].push(\n              value.toLowerCase(),\n            );\n          }\n          // Update dropdown options to hide selected values\n          this.updateDropdownOptions(filter.columnIndex);\n          filtersApplied = true;\n        }\n      }\n    });\n\n    // Apply filters and update UI if any filters were added\n    if (filtersApplied) {\n      this.filterTable();\n      this.updateFilterPills();\n    }\n  }\n\n  generateFilterURL() {\n    const baseUrl = window.location.origin + window.location.pathname;\n    const params = new URLSearchParams();\n\n    // Add search keyword to query string\n    if (this.activeFilters.search) {\n      params.append(\"search\", this.activeFilters.search);\n    }\n\n    // Add column filters to query string\n    for (const [columnIndex, filterValues] of Object.entries(\n      this.activeFilters.columns,\n    )) {\n      const filter = this.columnFilters.find(\n        (f) => f.columnIndex == columnIndex,\n      );\n      if (filter && Array.isArray(filterValues)) {\n        filterValues.forEach((value) => {\n          // Use the original column name as the key\n          params.append(filter.columnName, value);\n        });\n      }\n    }\n\n    // Add current page if pagination is enabled and not on page 1\n    if (this.paginationState.enabled && this.paginationState.currentPage > 1) {\n      params.append(\"page\", this.paginationState.currentPage.toString());\n    }\n\n    const queryString = params.toString();\n    return queryString ? `${baseUrl}?${queryString}` : baseUrl;\n  }\n\n  copyFilterURL() {\n    const url = this.generateFilterURL();\n\n    // Try modern Clipboard API first\n    if (navigator.clipboard && navigator.clipboard.writeText) {\n      navigator.clipboard\n        .writeText(url)\n        .then(() => {\n          this.showCopyFeedback(true);\n        })\n        .catch((err) => {\n          console.warn(\"Clipboard API failed, using fallback:\", err);\n          this.fallbackCopyURL(url);\n        });\n    } else {\n      // Use fallback for older browsers\n      this.fallbackCopyURL(url);\n    }\n  }\n\n  fallbackCopyURL(url) {\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = url;\n    textArea.style.position = \"fixed\";\n    textArea.style.left = \"-9999px\";\n    textArea.style.top = \"-9999px\";\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n\n    try {\n      const successful = document.execCommand(\"copy\");\n      this.showCopyFeedback(successful);\n    } catch (err) {\n      console.error(\"Fallback copy failed:\", err);\n      this.showCopyFeedback(false);\n    }\n\n    document.body.removeChild(textArea);\n  }\n\n  showCopyFeedback(success) {\n    const copyButton = document.getElementById(\"copyFilterLink\");\n    if (!copyButton) return;\n\n    if (success) {\n      // Store original content\n      const originalHTML = copyButton.innerHTML;\n\n      // Show success state\n      copyButton.classList.add(\"copied\");\n      copyButton.innerHTML = '<i class=\"fas fa-check\"></i> Copied!';\n      copyButton.disabled = true;\n\n      // Reset after 2 seconds\n      setTimeout(() => {\n        copyButton.classList.remove(\"copied\");\n        copyButton.innerHTML = originalHTML;\n        copyButton.disabled = false;\n      }, 2000);\n    } else {\n      // Show error message\n      alert(\"Failed to copy link. Please try again.\");\n    }\n  }\n\n  clearAllFilters() {\n    // Clear search\n    this.searchInput.value = \"\";\n    this.activeFilters.search = \"\";\n\n    // Clear column filters\n    this.activeFilters.columns = {};\n    this.columnFilters.forEach((filter) => {\n      const select = document.getElementById(filter.selectId);\n      if (select) {\n        select.value = \"all\";\n        // Show all options again\n        Array.from(select.options).forEach((option) => {\n          option.style.display = \"\";\n        });\n      }\n    });\n\n    // Reset pagination to first page\n    this.paginationState.currentPage = 1;\n\n    this.filterTable();\n    this.updateClearButton();\n    this.updateFilterPills();\n  }\n\n  renderPaginationControls(visibleCount) {\n    // Remove existing pagination if present\n    this.removePaginationControls();\n\n    // Determine if mobile view\n    const isMobile = window.innerWidth <= 768;\n\n    // Generate pagination HTML\n    let paginationHTML;\n    if (isMobile) {\n      paginationHTML = this.generateMobilePaginationHTML(visibleCount);\n    } else {\n      paginationHTML = this.generatePaginationHTML(visibleCount);\n    }\n\n    // Create pagination container\n    const paginationContainer = document.createElement(\"div\");\n    paginationContainer.id = \"tablePaginationControls\";\n    paginationContainer.className = \"table-pagination-wrapper mt-3\";\n    paginationContainer.innerHTML = paginationHTML;\n\n    // Insert after table\n    this.table.parentNode.insertBefore(\n      paginationContainer,\n      this.table.nextSibling,\n    );\n\n    // Attach event listeners to pagination controls\n    this.attachPaginationEventListeners();\n  }\n\n  removePaginationControls() {\n    const existingPagination = document.getElementById(\n      \"tablePaginationControls\",\n    );\n    if (existingPagination) {\n      existingPagination.remove();\n    }\n  }\n\n  generatePaginationHTML(visibleCount) {\n    const { currentPage, itemsPerPage, totalPages, availableSizes } =\n      this.paginationState;\n\n    // Calculate result range\n    const startResult =\n      visibleCount > 0 ? (currentPage - 1) * itemsPerPage + 1 : 0;\n    const endResult = Math.min(currentPage * itemsPerPage, visibleCount);\n\n    // Build page size selector\n    const pageSizeOptions = availableSizes\n      .map(\n        (size) =>\n          `<option value=\"${size}\" ${size === itemsPerPage ? \"selected\" : \"\"}>${size}</option>`,\n      )\n      .join(\"\");\n\n    const pageSizeSelector = `\n      <div class=\"page-size-control\">\n        <label for=\"pageSizeSelect\" class=\"page-size-label\">Show:</label>\n        <select id=\"pageSizeSelect\" class=\"form-select form-select-sm page-size-select\">\n          ${pageSizeOptions}\n        </select>\n        <span class=\"results-info\">Showing ${startResult}-${endResult} of ${visibleCount} results</span>\n      </div>\n    `;\n\n    // Build page navigation buttons\n    const pageButtons = this.buildPageButtons(currentPage, totalPages);\n\n    return `\n      <div class=\"pagination-container\">\n        ${pageSizeSelector}\n        <nav aria-label=\"Table pagination\" class=\"pagination-nav\">\n          <ul class=\"pagination pagination-sm mb-0\">\n            ${pageButtons}\n          </ul>\n        </nav>\n      </div>\n    `;\n  }\n\n  generateMobilePaginationHTML(visibleCount) {\n    const { currentPage, itemsPerPage, totalPages, availableSizes } =\n      this.paginationState;\n\n    // Calculate result range\n    const startResult =\n      visibleCount > 0 ? (currentPage - 1) * itemsPerPage + 1 : 0;\n    const endResult = Math.min(currentPage * itemsPerPage, visibleCount);\n\n    // Build page size selector\n    const pageSizeOptions = availableSizes\n      .map(\n        (size) =>\n          `<option value=\"${size}\" ${size === itemsPerPage ? \"selected\" : \"\"}>${size}</option>`,\n      )\n      .join(\"\");\n\n    const pageSizeSelector = `\n      <div class=\"page-size-control\">\n        <label for=\"pageSizeSelect\" class=\"page-size-label\">Show:</label>\n        <select id=\"pageSizeSelect\" class=\"form-select form-select-sm page-size-select\">\n          ${pageSizeOptions}\n        </select>\n        <span class=\"results-info\">Showing ${startResult}-${endResult} of ${visibleCount}</span>\n      </div>\n    `;\n\n    // Condensed page navigation (only prev/current/next)\n    const mobileButtons = `\n      <li class=\"page-item ${currentPage === 1 ? \"disabled\" : \"\"}\">\n        <button class=\"page-link\" data-page=\"${currentPage - 1}\" ${currentPage === 1 ? \"disabled\" : \"\"} aria-label=\"Previous\">\n          <i class=\"fas fa-chevron-left\"></i>\n        </button>\n      </li>\n      <li class=\"page-item active\">\n        <span class=\"page-link\">${currentPage} of ${totalPages}</span>\n      </li>\n      <li class=\"page-item ${currentPage === totalPages ? \"disabled\" : \"\"}\">\n        <button class=\"page-link\" data-page=\"${currentPage + 1}\" ${currentPage === totalPages ? \"disabled\" : \"\"} aria-label=\"Next\">\n          <i class=\"fas fa-chevron-right\"></i>\n        </button>\n      </li>\n    `;\n\n    return `\n      <div class=\"pagination-container pagination-mobile\">\n        ${pageSizeSelector}\n        <nav aria-label=\"Table pagination\" class=\"pagination-nav\">\n          <ul class=\"pagination pagination-sm mb-0\">\n            ${mobileButtons}\n          </ul>\n        </nav>\n      </div>\n    `;\n  }\n\n  buildPageButtons(currentPage, totalPages) {\n    const buttons = [];\n\n    // Previous button (tertiary style)\n    buttons.push(`\n      <li class=\"page-item page-item-nav ${currentPage === 1 ? \"disabled\" : \"\"}\">\n        <button class=\"page-link page-link-nav\" data-page=\"${currentPage - 1}\" ${currentPage === 1 ? \"disabled\" : \"\"} aria-label=\"Previous\">\n          <span class=\"page-nav-text\">Previous</span>\n        </button>\n      </li>\n    `);\n\n    // Page number buttons with ellipsis logic\n    const pageNumbers = this.getPageNumbers(currentPage, totalPages);\n\n    pageNumbers.forEach((pageNum) => {\n      if (pageNum === \"...\") {\n        // Non-clickable ellipsis (plain text)\n        buttons.push(`\n          <li class=\"page-item page-item-ellipsis\">\n            <span class=\"page-ellipsis\">...</span>\n          </li>\n        `);\n      } else {\n        buttons.push(`\n          <li class=\"page-item ${pageNum === currentPage ? \"active\" : \"\"}\">\n            <button class=\"page-link page-link-number\" data-page=\"${pageNum}\" data-selected=\"${pageNum === currentPage ? \"True\" : \"False\"}\" ${pageNum === currentPage ? 'aria-current=\"page\"' : \"\"}>\n              ${pageNum}\n            </button>\n          </li>\n        `);\n      }\n    });\n\n    // Next button (tertiary style with chevron) (tertiary style with chevron)\n    buttons.push(`\n      <li class=\"page-item page-item-nav ${currentPage === totalPages ? \"disabled\" : \"\"}\">\n        <button class=\"page-link page-link-nav\" data-page=\"${currentPage + 1}\" ${currentPage === totalPages ? \"disabled\" : \"\"} aria-label=\"Next\">\n          <span class=\"page-nav-text\">Next</span>\n          <i class=\"fas fa-chevron-right\"></i>\n        </button>\n      </li>\n    `);\n\n    return buttons.join(\"\");\n  }\n\n  getPageNumbers(currentPage, totalPages) {\n    const pages = [];\n\n    if (totalPages <= 7) {\n      // Show all pages if 7 or fewer\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      // Always show first page\n      pages.push(1);\n\n      if (currentPage > 3) {\n        pages.push(\"...\");\n      }\n\n      // Show pages around current page\n      const startPage = Math.max(2, currentPage - 1);\n      const endPage = Math.min(totalPages - 1, currentPage + 1);\n\n      for (let i = startPage; i <= endPage; i++) {\n        pages.push(i);\n      }\n\n      if (currentPage < totalPages - 2) {\n        pages.push(\"...\");\n      }\n\n      // Always show last page\n      pages.push(totalPages);\n    }\n\n    return pages;\n  }\n\n  attachPaginationEventListeners() {\n    // Page size change handler\n    const pageSizeSelect = document.getElementById(\"pageSizeSelect\");\n    if (pageSizeSelect) {\n      pageSizeSelect.addEventListener(\"change\", (e) => {\n        this.paginationState.itemsPerPage = parseInt(e.target.value, 10);\n        this.paginationState.currentPage = 1; // Reset to first page\n        this.filterTable();\n      });\n    }\n\n    // Page navigation button handlers\n    const pageButtons = document.querySelectorAll(\n      \".pagination-container .page-link[data-page]\",\n    );\n    pageButtons.forEach((button) => {\n      button.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        const newPage = parseInt(button.getAttribute(\"data-page\"), 10);\n        if (newPage >= 1 && newPage <= this.paginationState.totalPages) {\n          this.paginationState.currentPage = newPage;\n          this.filterTable();\n\n          // Scroll to top of table\n          this.table.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n        }\n      });\n    });\n  }\n\n  updateNoResultsMessage(show) {\n    let message = document.querySelector(`.${this.options.noResultsClass}`);\n\n    if (show && !message) {\n      message = document.createElement(\"div\");\n      message.className = this.options.noResultsClass;\n      message.innerHTML = `\n        <div class=\"info-alert-bar\"></div>\n        <div class=\"info-alert-content\">\n          <div class=\"info-alert-header\">\n            <svg class=\"info-alert-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\">\n              <path d=\"M16 4.33335C19.0942 4.33335 22.0616 5.56252 24.2495 7.75044C26.4375 9.93837 27.6666 12.9058 27.6666 16C27.6666 19.0942 26.4375 22.0617 24.2495 24.2496C22.0616 26.4375 19.0942 27.6667 16 27.6667C12.9058 27.6667 9.9383 26.4375 7.75038 24.2496C5.56246 22.0617 4.33329 19.0942 4.33329 16C4.33329 12.9058 5.56246 9.93837 7.75038 7.75044C9.9383 5.56252 12.9058 4.33335 16 4.33335ZM16 29.3334C19.5362 29.3334 22.9276 27.9286 25.428 25.4281C27.9285 22.9276 29.3333 19.5362 29.3333 16C29.3333 12.4638 27.9285 9.07241 25.428 6.57193C22.9276 4.07145 19.5362 2.66669 16 2.66669C12.4637 2.66669 9.07235 4.07145 6.57187 6.57193C4.07138 9.07241 2.66663 12.4638 2.66663 16C2.66663 19.5362 4.07138 22.9276 6.57187 25.4281C9.07235 27.9286 12.4637 29.3334 16 29.3334ZM13.5 21C13.0416 21 12.6666 21.375 12.6666 21.8334C12.6666 22.2917 13.0416 22.6667 13.5 22.6667H18.5C18.9583 22.6667 19.3333 22.2917 19.3333 21.8334C19.3333 21.375 18.9583 21 18.5 21H16.8333V15.1667C16.8333 14.7084 16.4583 14.3334 16 14.3334H13.9166C13.4583 14.3334 13.0833 14.7084 13.0833 15.1667C13.0833 15.625 13.4583 16 13.9166 16H15.1666V21H13.5ZM16 12.25C16.3315 12.25 16.6494 12.1183 16.8838 11.8839C17.1183 11.6495 17.25 11.3315 17.25 11C17.25 10.6685 17.1183 10.3506 16.8838 10.1161C16.6494 9.88172 16.3315 9.75002 16 9.75002C15.6684 9.75002 15.3505 9.88172 15.1161 10.1161C14.8817 10.3506 14.75 10.6685 14.75 11C14.75 11.3315 14.8817 11.6495 15.1161 11.8839C15.3505 12.1183 15.6684 12.25 16 12.25Z\" fill=\"#107CC0\"/>\n            </svg>\n            <div class=\"info-alert-text\">\n              <div class=\"info-alert-title\">No matching results found</div>\n              <div class=\"info-alert-message\">Try adjusting your search terms or filters to find what you're looking for.</div>\n            </div>\n          </div>\n        </div>\n      `;\n      this.table.parentNode.insertBefore(message, this.table.nextSibling);\n    } else if (!show && message) {\n      message.remove();\n    }\n  }\n}\n\n// Auto-initialize on DOMContentLoaded if data-table-filter attribute is present\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const tables = document.querySelectorAll(\"[data-table-filter]\");\n  tables.forEach((table) => {\n    const tableId = table.getAttribute(\"data-table-id\");\n    const selector = tableId\n      ? `#${tableId}`\n      : table.id\n        ? `#${table.id}`\n        : table;\n    const instance = new TableFilter(selector);\n\n    // Store instance globally for pill close buttons\n    if (!window.tableFilterInstance) {\n      window.tableFilterInstance = instance;\n    }\n  });\n});\n\n// Export for use as module\nexport default TableFilter;\n\n// Also expose globally for legacy use\nif (typeof window !== \"undefined\") {\n  window.TableFilter = TableFilter;\n}\n","/**\n * SortTable Component\n * Handles table sorting functionality with support for text, numeric, and date columns\n */\n\n/**\n * Initialize table headers with sort icons and click handlers\n * @param {HTMLElement} table - The table element\n * @param {Function} sortCallback - Callback function to handle sorting (receives columnIndex)\n */\nexport function initializeTableHeaders(table, sortCallback) {\n  const thead = table.querySelector(\"thead\");\n  if (!thead) return;\n\n  const headers = thead.querySelectorAll(\"th\");\n  headers.forEach((header, index) => {\n    // Skip if header already has sort icon\n    if (header.querySelector(\".sort-icon\")) return;\n\n    // Wrap existing text content in a div\n    const textContent = header.innerHTML;\n    header.innerHTML = \"\";\n\n    const textDiv = document.createElement(\"div\");\n    textDiv.className = \"header-text\";\n    textDiv.innerHTML = textContent;\n    header.appendChild(textDiv);\n\n    // Add sort icon in its own div\n    const iconDiv = document.createElement(\"div\");\n    iconDiv.className = \"header-icons\";\n\n    const sortIcon = document.createElement(\"span\");\n    sortIcon.className = \"sort-icon\";\n    sortIcon.innerHTML = `\n        <i class=\"fas fa-chevron-up sort-arrow sort-arrow-up\"></i>\n        <i class=\"fas fa-chevron-down sort-arrow sort-arrow-down\"></i>\n      `;\n\n    iconDiv.appendChild(sortIcon);\n    header.appendChild(iconDiv);\n\n    // Add click handler\n    header.addEventListener(\"click\", () => sortCallback(index));\n  });\n}\n\n/**\n * Sort table rows by column index\n * @param {Object} context - The TableFilter instance context\n * @param {number} columnIndex - Index of column to sort by\n */\nexport function sortTable(context, columnIndex) {\n  if (!context.cache.tbody) return;\n\n  const headers = context.table.querySelectorAll(\"thead th\");\n\n  // Determine sort direction\n  let direction = \"asc\";\n  if (context.sortState.columnIndex === columnIndex) {\n    if (context.sortState.direction === \"asc\") {\n      direction = \"desc\";\n    } else if (context.sortState.direction === \"desc\") {\n      // Reset sort\n      direction = null;\n    }\n  }\n\n  // Update sort state\n  context.sortState.columnIndex = direction ? columnIndex : null;\n  context.sortState.direction = direction;\n\n  // Reset pagination to first page when sorting\n  if (context.paginationState) {\n    context.paginationState.currentPage = 1;\n  }\n\n  // Update header UI\n  updateHeaderClasses(headers, columnIndex, direction);\n\n  // Perform sort\n  const sortedRows = performSort(\n    context.cache.rowData,\n    columnIndex,\n    direction,\n    context.cache.dateColumns,\n  );\n\n  // Re-append rows in sorted order\n  sortedRows.forEach((rowData) =>\n    context.cache.tbody.appendChild(rowData.element),\n  );\n\n  // Re-apply filtering to update visibility\n  context.filterTable();\n}\n\n/**\n * Update header classes to reflect current sort state\n * @param {NodeList} headers - Table header elements\n * @param {number} columnIndex - Index of sorted column\n * @param {string|null} direction - Sort direction ('asc', 'desc', or null)\n */\nfunction updateHeaderClasses(headers, columnIndex, direction) {\n  // Remove sort classes from all headers\n  headers.forEach((h) => {\n    h.classList.remove(\"sort-asc\", \"sort-desc\");\n  });\n\n  // Add sort class to current header\n  if (direction) {\n    headers[columnIndex].classList.add(`sort-${direction}`);\n  }\n}\n\n/**\n * Perform the actual sorting of row data\n * @param {Array} rowData - Array of cached row data objects\n * @param {number} columnIndex - Index of column to sort by\n * @param {string|null} direction - Sort direction ('asc', 'desc', or null)\n * @param {Array} dateColumns - Array of column indices that contain dates\n * @returns {Array} Sorted array of row data\n */\nfunction performSort(rowData, columnIndex, direction, dateColumns) {\n  const sortedRows = [...rowData];\n\n  if (direction) {\n    const isDateColumn = dateColumns.includes(columnIndex);\n\n    sortedRows.sort((a, b) => {\n      const aCell = a.cells[columnIndex];\n      const bCell = b.cells[columnIndex];\n\n      if (!aCell || !bCell) return 0;\n\n      // Use date sorting for date columns\n      if (isDateColumn && aCell.dateValue && bCell.dateValue) {\n        const comparison = aCell.dateValue.localeCompare(bCell.dateValue);\n        return direction === \"asc\" ? comparison : -comparison;\n      }\n\n      // Use numeric comparison if available\n      if (aCell.numericValue !== null && bCell.numericValue !== null) {\n        return direction === \"asc\"\n          ? aCell.numericValue - bCell.numericValue\n          : bCell.numericValue - aCell.numericValue;\n      }\n\n      // Fallback to text comparison\n      const comparison = aCell.text.localeCompare(bCell.text);\n      return direction === \"asc\" ? comparison : -comparison;\n    });\n  } else {\n    // Restore original order using original index\n    sortedRows.sort((a, b) => a.originalIndex - b.originalIndex);\n  }\n\n  return sortedRows;\n}\n","/**\n * Table Filter Component - Main Entry Point\n * Imports CSS and exports the TableFilter class\n */\n\nimport './table-filter.css';\nimport TableFilter from './table-filter.js';\n\nexport default TableFilter;\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","TableFilter","constructor","tableSelector","options","table","document","querySelector","searchInputClass","noResultsClass","console","warn","filterContainer","searchInput","columnFilters","activeFilters","search","columns","sortState","columnIndex","direction","filterDiv","itemsPerPageAttr","getAttribute","paginationState","currentPage","itemsPerPage","parseInt","totalPages","enabled","availableSizes","cache","tbody","thead","headerCells","allRows","rowData","columnValues","columnCount","rowCount","dateColumns","init","setAttribute","cacheTableData","createFilterMarkup","initializeTableHeaders","attachEventListeners","applyQueryStringFilters","filterTable","Array","from","querySelectorAll","length","forEach","header","index","textContent","toLowerCase","includes","push","rows","row","rowIndex","toString","cells","cellData","map","cell","colIndex","text","trim","dateValue","processedDate","processDateCell","isoDate","originalText","element","lowerText","numericValue","parseNumericValue","fullText","c","join","originalIndex","fullTextLower","precomputeColumnValues","cellHtml","innerHTML","replace","firstLine","split","tempDiv","createElement","convertToISODate","dateStr","dmyMatch","match","day","padStart","month","isoMatch","parsed","Date","isNaN","getTime","getFullYear","String","getMonth","getDate","cleaned","num","parseFloat","parseSearchTerms","input","trimmed","andGroups","exactPhrases","phrases","placeholders","phrase","placeholder","part","filter","term","phraseIndex","indexOf","group","values","Set","add","sortedValues","sort","a","b","aNum","bNum","localeCompare","sortCallback","textDiv","className","appendChild","iconDiv","sortIcon","addEventListener","sortTable","existing","getElementById","container","id","searchPlaceholder","columnFiltersArray","f","parentNode","insertBefore","generateColumnFilters","columnNames","filterControls","headers","columnName","findIndex","th","getUniqueColumnValues","style","cssText","selectId","label","val","e","target","value","updateClearButton","updateFilterPills","clearInput","select","updateDropdownOptions","clearAll","preventDefault","clearAllFilters","copyButton","copyFilterURL","removeAttribute","visibleRows","isVisible","allPhrasesMatch","every","allGroupsMatch","orTerms","some","filterValues","entries","cellText","display","visibleCount","Math","ceil","startIndex","endIndex","renderPaginationControls","removePaginationControls","updateNoResultsMessage","pillsContainer","appliedFiltersSection","pills","find","isArray","filterValue","classList","remove","clearSearchFilter","clearColumnFilter","filters","splice","selectedValues","option","context","h","updateHeaderClasses","sortedRows","isDateColumn","aCell","bCell","comparison","performSort","urlParams","URLSearchParams","window","location","filtersApplied","searchParam","pageParam","pageNum","opt","generateFilterURL","baseUrl","origin","pathname","params","append","queryString","url","navigator","clipboard","writeText","then","showCopyFeedback","catch","err","fallbackCopyURL","textArea","position","left","top","body","focus","successful","execCommand","error","removeChild","success","originalHTML","disabled","setTimeout","alert","paginationHTML","innerWidth","generateMobilePaginationHTML","generatePaginationHTML","paginationContainer","nextSibling","attachPaginationEventListeners","existingPagination","startResult","endResult","min","size","buildPageButtons","buttons","getPageNumbers","pages","i","startPage","max","endPage","pageSizeSelect","button","newPage","scrollIntoView","behavior","block","show","message","tableId","selector","instance","tableFilterInstance"],"ignoreList":[],"sourceRoot":""}